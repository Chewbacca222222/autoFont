// autoFont.min.js
// written by https://github.com/Chewbacca222222

var autoFontFill,autoFontResizeTimer;function autoFontTextCalculator(t,e){for(var o=0;o<t.length;o++){t[o].style.fontSize="1px";var a=t[o].getBoundingClientRect().width,n=parseFloat(window.getComputedStyle(t[o]).getPropertyValue("font-size").replace("px",""))/(a/e[o]);if(t[o].dataset.autofontWidth){var l=parseFloat(t[o].dataset.autofontWidth);0<=l&&l<=100&&(n*=l/100)}t[o].style.fontSize=String(n)+"px";var r=!1,i=t[o].dataset.autofontMin,u=t[o].dataset.autofontMax;if(i)i=parseFloat(i);if(u)u=parseFloat(u);i&&u&&u<i&&(r=!0),r||(i&&(i>n?(t[o].classList.add("autoFontBreak"),t[o].style.fontSize=t[o].dataset.autofontMin+"px"):t[o].classList.remove("autoFontBreak")),u&&u<n&&(t[o].style.fontSize=t[o].dataset.autofontMax+"px"))}}function autoFontParentCalculator(t){for(var e=[],o=0;o<t.length;o++)e[e.length]=getRealWidth(t[o].parentElement);return e}function autoFontTextController(t){var e,o=!1;autoFontTextCalculator(t,e=autoFontParentCalculator(t));for(var a=0;a<t.length;a++)if(e[a]!=getRealWidth(t[a].parentElement)){o=!0;break}o&&autoFontTextCalculator(t,e=autoFontParentCalculator(t))}function getRealWidth(t){return t.getBoundingClientRect().width-(parseFloat(window.getComputedStyle(t).getPropertyValue("padding-right"))+parseFloat(window.getComputedStyle(t).getPropertyValue("padding-left"))+parseFloat(window.getComputedStyle(t).getPropertyValue("border-right-width"))+parseFloat(window.getComputedStyle(t).getPropertyValue("border-left-width")))}function autoFontAppendStyles(){var t=document.createElement("style");t.innerHTML=".autoFontFill{display:inline-block}.autoFontFill:not(.autoFontBreak){white-space:nowrap}",document.head.appendChild(t)}window.addEventListener("resize",function(t){clearTimeout(autoFontResizeTimer),autoFontResizeTimer=setTimeout(function(){autoFontTextController(autoFontFill)},"number"==typeof autoFontResizeRate?autoFontResizeRate:100)}),window.addEventListener("DOMContentLoaded",t=>{autoFontAppendStyles(),autoFontFill=document.getElementsByClassName("autoFontFill"),document.fonts?document.fonts.ready.then(function(){autoFontTextController(autoFontFill)}):window.addEventListener("load",t=>{autoFontTextController(autoFontFill)})});
